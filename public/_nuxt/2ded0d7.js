(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{351:function(t,e,n){"use strict";n(44),n(17);var o={name:"Navbar",data:function(){return{auth:this.$store.state.auth,page:null}},beforeCreate:function(){this.page=this.$route.name},watch:{$route:function(){this.page=this.$route.name}},methods:{logout:function(){this.$store.commit("auth/SET",{key:"loggedIn",value:!1}),this.$store.commit("auth/SET",{key:"user",value:null}),this.$store.commit("application/updateData",{}),this.$store.commit("dashboard/clear"),localStorage.clear()},toggleMobileMenu:function(){this.$refs.collapse.style.height="".concat(this.$refs.collapse.style.height).replace("px","")>0?0:"".concat(this.$refs.collapse.scrollHeight,"px")}}},r=n(39),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header-section"},[n("div",{staticClass:"container h-100"},[n("div",{staticClass:"inner-header"},[n("div",{staticClass:"logo h-100"},[n("nuxt-link",{staticClass:"h-100 d-flex align-items-center",attrs:{to:"/"}},[n("img",{attrs:{src:"/img/logo-colored.png",alt:"Logo"}})]),t._v(" "),n("button",{staticClass:"btn btn-outline-secondary mobile-menu-toggle",on:{click:function(e){return t.toggleMobileMenu()}}},[n("i",{staticClass:"fa fa-bars"})])],1),t._v(" "),n("div",{ref:"collapse",staticClass:"mobile-collapse flex-grow-1 d-flex justify-content-between"},[n("div"),t._v(" "),n("nav",{staticClass:"main-menu mobile-menu h-100 small"},[n("ul",{staticClass:"h-100"},[t.auth.loggedIn?t._e():n("li",{staticClass:"h-100 d-inline-flex align-items-center"},[n("nuxt-link",{attrs:{to:"/login"}},[t._v("Login")])],1),t._v(" "),t._m(0),t._v(" "),n("li",{staticClass:"h-100 d-inline-flex align-items-center"},[n("nuxt-link",{attrs:{to:"/about"}},[t._v("About us")])],1),t._v(" "),n("li",{staticClass:"h-100 d-inline-flex align-items-center"},[n("nuxt-link",{attrs:{to:"/faq"}},[t._v("FAQ")])],1),t._v(" "),n("li",{staticClass:"h-100 d-inline-flex align-items-center"},[n("nuxt-link",{attrs:{to:"/contact"}},[t._v("Contact us")])],1),t._v(" "),n("li",{staticClass:"h-100 d-inline-flex align-items-center"},[n("nuxt-link",{attrs:{to:"/fgloan"}},[t._v("FG Loans")])],1),t._v(" "),t._m(1),t._v(" "),t.auth.loggedIn?n("li",{staticClass:"h-100 d-inline-flex align-items-center cursor-pointer pl-3"},[n("b-dropdown",{attrs:{"aria-role":"list",position:"is-bottom-left"}},[n("div",{staticClass:"d-flex align-items-center",attrs:{slot:"trigger"},slot:"trigger"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.$store.state.auth.user.profile?t.$store.state.auth.user.profile.profile_image:"",alt:"Avatar"}})]),t._v(" "),n("b-icon",{attrs:{pack:"fas",icon:"caret-down"}})],1),t._v(" "),n("b-dropdown-item",{attrs:{"aria-role":"listitem"},on:{click:function(e){return t.logout()}}},[n("i",{staticClass:"fa fa-power-off mr-2"}),t._v(" Logout\n                ")])],1)],1):t._e(),t._v(" "),t._m(2)])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"h-100 d-inline-flex align-items-center"},[e("a",{attrs:{href:"https://asset-financing.sycamore.ng/"}},[this._v("E-shop")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"h-100 d-inline-flex align-items-center"},[e("a",{attrs:{href:"https://blog.sycamore.ng",target:"_blank"}},[this._v("\n                Blog\n                "),e("i",{staticClass:"fa fa-external-link-alt ml-1"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"h-100 d-inline-flex align-items-center"},[e("span")])}],!1,null,null,null);e.a=component.exports},352:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));n(269);var o=function(t,e,n){return e?(n.hasOwnProperty(t)&&(n[t]=""),"phone"===t&&(e.match(/^((\+?\d{1,3})|0)\d{10}$/gi)||(n[t]="Invalid phone number")),"email"===t&&(e.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/gi)||(n[t]="Invalid email address")),n):(n[t]="".concat("string"!=typeof(s=t)?"":s.charAt(0).toUpperCase()+s.slice(1)," is required!"),n);var s},r=function(t,data){var e={};return t.forEach((function(t){e=o(t,data[t],e)})),e}},380:function(t,e,n){var content=n(415);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("6de342e4",content,!0,{sourceMap:!1})},414:function(t,e,n){"use strict";n(380)},415:function(t,e,n){(e=n(58)(!1)).push([t.i,".link[data-v-4f8f839e]{min-height:150px;display:flex;flex-direction:column;justify-content:center;align-items:center}.link[data-v-4f8f839e]:after,.link[data-v-4f8f839e]:before{content:none}.link .icon[data-v-4f8f839e]{font-size:2rem;margin-bottom:15px}.link .name[data-v-4f8f839e]{font-size:1rem;color:#666}@media (max-width:768px){.link-1[data-v-4f8f839e],.link-2[data-v-4f8f839e]{padding:0}}",""]),t.exports=e},457:function(t,e,n){"use strict";n.r(e);n(45),n(14);var o=n(19),r=(n(18),n(3)),l=(n(10),n(7),n(25),n(17),n(351)),c=n(353),d=n(352);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"Login",components:{Navbar:l.a,Footer:c.a},head:function(){return{title:"Login"}},data:function(){return{user:{},data:{email:"",password:""},messages:{},loading:!1,isSelectionModalVisible:!1}},methods:{handleInput:function(t){var e=t.target,n=e.name,o=e.value;this.messages=Object(d.a)(n,o,this.messages),this.$forceUpdate()},submit:function(){var data=this.data;this.messages=Object(d.b)(["email","password"],data),Object.keys(this.messages).length||this.login()},login:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$axios({method:"POST",url:"/user/authenticate_with_login",data:t.data});case 4:if(!(n=e.sent).data.status){e.next=13;break}if(t.user=f(f({},n.data.data),{},{token:n.data.token}),!(o=t.$store.getters.redirectAferLogin)){e.next=10;break}return e.abrupt("return",t.goto("/".concat(o)));case 10:t.$store.getters["marketplace/investing"]?t.checkInvest(t.user.profile.user_id):t.openSelection(),e.next=14;break;case 13:t.$buefy.snackbar.open({queue:!1,duration:5e3,message:n.data.message,type:"is-danger",position:"is-top"});case 14:t.loading=!1,e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),t.loading=!1,t.$buefy.snackbar.open({queue:!1,duration:5e3,message:"An error occurred",type:"is-danger",position:"is-top"});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))()},openSelection:function(){this.isSelectionModalVisible=!0},closeSelection:function(){this.isSelectionModalVisible=!1},goto:function(t){console.log("Page",t),this.user.token&&localStorage.setItem("token",this.user.token),this.$store.commit("auth/SET",{key:"user",value:this.user}),this.$store.commit("auth/SET",{key:"loggedIn",value:!0}),this.$store.commit("auth/SET",{key:"redirect",value:t})},checkInvest:function(t){this.$store.getters["marketplace/current"]?this.goto("/marketplace/details"):this.goto("/marketplace")}},middleware:"noauth"},h=(n(414),n(39)),component=Object(h.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"main"},[n("Navbar"),t._v(" "),n("div",{staticClass:"nav-margin"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6 offset-md-3 mt-5"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("h4",{staticClass:"title is-4"},[t._v("Login")]),t._v(" "),n("p",{staticClass:"subtitle is-6 pt-2"},[t._v("Login to view the status of your loan or make payments")]),t._v(" "),n("form",{staticClass:"mt-5",on:{input:function(e){return t.handleInput(e)},submit:function(e){return e.preventDefault(),t.submit()}}},[n("div",{staticClass:"title is-4 text-center"}),t._v(" "),n("b-field",{attrs:{label:"Email","label-position":"inside",type:t.messages.email&&"is-danger",message:t.messages.email}},[n("b-input",{attrs:{disabled:t.loading,size:"is-medium",type:"email",name:"email"},model:{value:t.data.email,callback:function(e){t.$set(t.data,"email","string"==typeof e?e.trim():e)},expression:"data.email"}})],1),t._v(" "),n("b-field",{attrs:{label:"PIN","label-position":"inside",type:t.messages.password&&"is-danger",message:t.messages.password}},[n("b-input",{attrs:{disabled:t.loading,size:"is-medium",type:"password","password-reveal":"",name:"password"},model:{value:t.data.password,callback:function(e){t.$set(t.data,"password","string"==typeof e?e.trim():e)},expression:"data.password"}})],1),t._v(" "),n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("b-button",{staticClass:"mt-4",attrs:{type:"is-primary","native-type":"submit",loading:t.loading}},[t._v("Login")]),t._v(" "),n("nuxt-link",{attrs:{to:"/reset"}},[t._v("Forgot PIN?")])],1)],1)])])])])]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br")]),t._v(" "),n("b-modal",{attrs:{active:t.isSelectionModalVisible,"has-modal-card":"","trap-focus":"","aria-role":"dialog","aria-modal":"","can-cancel":!1},on:{"update:active":function(e){t.isSelectionModalVisible=e},close:t.closeSelection}},[n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("Choose which dashboard to go to.")])]),t._v(" "),n("section",{staticClass:"modal-card-body"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column cursor-pointer",on:{click:function(e){return t.goto("/borrow/dashboard")}}},[n("div",{staticClass:"link card"},[n("div",{staticClass:"icon"},[n("i",{staticClass:"fa fa-user"})]),t._v(" "),n("div",{staticClass:"name"},[t._v("Borrower")])])]),t._v(" "),n("div",{staticClass:"column cursor-pointer",on:{click:function(e){return t.goto("/invest/dashboard")}}},[n("div",{staticClass:"link card"},[n("div",{staticClass:"icon"},[n("i",{staticClass:"fa fa-user"})]),t._v(" "),n("div",{staticClass:"name"},[t._v("Investor")])])])])])])]),t._v(" "),n("Footer")],1)}),[],!1,null,"4f8f839e",null);e.default=component.exports}}]);